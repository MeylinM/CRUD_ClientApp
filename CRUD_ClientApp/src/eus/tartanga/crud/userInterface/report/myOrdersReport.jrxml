<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="OrdersReport" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="d5244d52-14d6-4762-904f-d735d7e48ddd">

    <property name="ireport.zoom" value="1.0"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="0"/>

    <field name="quantity" class="java.lang.Integer"/>
    <field name="orderDate" class="java.util.Date"/>
    <field name="productTitle" class="java.lang.String">
        <fieldDescription><![CDATA[product.title]]></fieldDescription>
    </field>
    <field name="price" class="java.math.BigDecimal"/>

    <variable name="subTotal" class="java.math.BigDecimal">
        <variableExpression><![CDATA[new java.math.BigDecimal($F{quantity}).multiply($F{price})]]></variableExpression>
    </variable>
    
    <variable name="total" class="java.math.BigDecimal" calculation="Sum">
        <variableExpression><![CDATA[$V{subTotal}]]></variableExpression>
    </variable>

    <title>
        <band height="80">
            <staticText>
                <reportElement x="174" y="0" width="200" height="30" uuid="3df6b69d-2230-4a69-9dbe-d316fd994d1a"/>
                <textElement textAlignment="Center">
                    <font size="18" isBold="true"/>
                </textElement>
                <text><![CDATA[Order Details]]></text>
            </staticText>
        </band>
    </title>

    <columnHeader>
        <band height="30">
            <staticText>
                <reportElement x="10" y="0" width="120" height="20" uuid="4c0e5401-37be-40bb-a1b2-6cfefab744be"/>
                <text><![CDATA[Product Title]]></text>
            </staticText>
            <staticText>
                <reportElement x="130" y="0" width="120" height="20" uuid="3f88d4fa-b26b-46bd-8109-522b6102565b"/>
                <text><![CDATA[Order Date]]></text>
            </staticText>
            <staticText>
                <reportElement x="250" y="0" width="80" height="20" uuid="2789601c-87d2-444e-82e9-7319b740665b"/>
                <text><![CDATA[Quantity]]></text>
            </staticText>
            <staticText>
                <reportElement x="330" y="0" width="80" height="20" uuid="aae47c54-692a-4e4a-a884-da300e4d4b74"/>
                <text><![CDATA[Price]]></text>
            </staticText>
            <staticText>
                <reportElement x="410" y="0" width="80" height="20" uuid="1cafdcb0-29a4-4f35-a28d-cff4bcd29716"/>
                <text><![CDATA[Subtotal]]></text>
            </staticText>
        </band>
    </columnHeader>

    <detail>
        <band height="25">
            <textField>
                <reportElement x="10" y="0" width="120" height="20" uuid="e1e42ef7-bc07-44a4-817b-bc0802db4ccf"/>
                <textFieldExpression><![CDATA[$F{productTitle}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="130" y="0" width="120" height="20" uuid="19e6b6bb-44c4-48e2-b7d7-22324c3816ef"/>
                <textFieldExpression><![CDATA[new java.text.SimpleDateFormat("dd/MM/yyyy").format($F{orderDate})]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="250" y="0" width="80" height="20" uuid="2acea0df-e96d-4af7-a151-9a32c367d2a5"/>
                <textFieldExpression><![CDATA[$F{quantity}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="330" y="0" width="80" height="20" uuid="215f90bd-f39f-4158-9223-ac971c4a307c"/>
                <textFieldExpression><![CDATA[$F{price}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="410" y="0" width="80" height="20" uuid="a73108f0-8233-4902-b398-e87d7607eb4f"/>
                <textFieldExpression><![CDATA[$V{subTotal}]]></textFieldExpression>
            </textField>
        </band>
    </detail>

    <summary>
        <band height="30">
            <staticText>
                <reportElement x="330" y="0" width="80" height="20" uuid="c13b4b94-afa8-46ea-8f51-7d1a9f269440"/>
                <text><![CDATA[Total:]]></text>
            </staticText>
            <textField>
                <reportElement x="410" y="0" width="80" height="20" uuid="08feb18d-3e91-444f-86d8-b8b667afd3ff"/>
                <textFieldExpression><![CDATA[$V{total}]]></textFieldExpression>
            </textField>
        </band>
    </summary>

</jasperReport>